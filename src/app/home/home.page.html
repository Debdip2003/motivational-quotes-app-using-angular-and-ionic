<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Quotes</ion-title>
    <ion-buttons slot="end">
      <ion-button [routerLink]="['/favourites']">
        <ion-label>Favourites</ion-label>
      </ion-button>

      @if (email) {
      <ion-button (click)="onLogOut()">
        <span>Logout</span>
      </ion-button>
      } @else {
      <ion-button [routerLink]="['/forms']">
        <span>Login/Signup</span>
      </ion-button>
      }
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  @if(!loading){ @for (q of paginatedQuote; track q.id) {
  <ion-item-sliding>
    <ion-item>
      <ion-label>
        <p>“{{ q.quote }}”</p>
        <p class="quote-author">— {{ q.author }}</p>
      </ion-label>
    </ion-item>

    <ion-item-options side="end">
      <ion-item-option color="success" (click)="addToFavourite(q)">
        <ion-icon
          [name]="isFavourite(q.id)? 'heart-dislike-outline':'heart-outline'"
          slot="icon-only"
        ></ion-icon>
      </ion-item-option>
    </ion-item-options>
  </ion-item-sliding>

  }

  <!-- pagination buttons -->
  <ion-buttons class="pagination">
    <ion-button
      fill="outline"
      (click)="changePage(currentPage - 1)"
      [disabled]="currentPage === 1"
    >
      Previous
    </ion-button>
    <ion-button
      fill="outline"
      (click)="changePage(currentPage + 1)"
      [disabled]="currentPage === totalNumberOfPages"
    >
      Next
    </ion-button>
  </ion-buttons>
  }@else {
  <div class="snipper-container">
    <ion-spinner name="crescent"></ion-spinner>
  </div>
  }
</ion-content>
